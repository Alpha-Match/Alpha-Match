# `SkillSelector.tsx` 동적 높이, 정렬 및 전체 스킬 가시성 개선

**날짜**: 2026-01-06
**작성자**: Gemini Pro
**목적**: `SkillSelector` 컴포넌트에서 카테고리 목록 정렬, 토글 시 스킬 목록 잘림 문제 해결, 그리고 105개 스킬 전체가 선택 가능하도록 가시성 및 기능성을 개선합니다.

---

## 📋 작업 요약

`SkillSelector.tsx`에서 사용자가 지적한 두 가지 주요 문제점을 해결하고, 전반적인 사용자 경험을 향상시켰습니다.

1.  **카테고리 목록 정렬**: 카테고리 이름을 기준으로 알파벳순으로 정렬하여 정보 탐색을 용이하게 합니다.
2.  **토글 시 스킬 목록 잘림 문제 해결**: 하드코딩된 `max-h` 대신 콘텐츠의 실제 높이를 측정하여 동적으로 `max-height`를 적용함으로써, 모든 스킬이 항상 완전히 표시되도록 했습니다. 또한, `openCategories` 초기화 로직을 개선하여 `skillCategories`가 로드된 후에도 모든 카테고리가 자동으로 열리도록 보장했습니다.

---

## ✅ 완료된 작업 상세 내역

### 1. 카테고리 목록 알파벳순 정렬

#### 문제점
-   `SkillSelector`의 카테고리 목록이 특정 기준 없이 표시되어 사용자가 원하는 카테고리를 찾기 어려웠습니다.

#### 해결 방안
-   `filteredCategories` 배열을 계산하는 부분에 `.sort((a, b) => a.category.localeCompare(b.category))`를 추가하여, 카테고리 이름 기준으로 항상 알파벳순으로 정렬되도록 했습니다.

### 2. 토글 시 스킬 목록 잘림 문제 및 105개 스킬 가시성/선택성 확보

#### 문제점
-   토글된 카테고리 내의 스킬 목록이 `max-h` 고정값 때문에 잘려 보였으며, 이로 인해 105개 스킬 중 64개만 선택 가능한 것처럼 보이는 문제가 발생했습니다. (실제로는 렌더링은 되지만 보이지 않았을 가능성)
-   `openCategories` 상태가 컴포넌트의 초기 마운트 시점에만 `skillCategories`를 기반으로 초기화되어, 비동기적으로 `skillCategories`가 로드된 이후에는 새로운 카테고리가 자동으로 열린 상태가 되지 않는 문제가 있었습니다.

#### 해결 방안
1.  **동적 `max-height` 계산 및 적용**:
    -   각 카테고리별 스킬 목록을 감싸는 `div`에 `useRef` (`contentRef`)를 연결했습니다.
    -   `useState` (`dynamicHeight`)를 사용하여 측정된 높이를 저장하도록 했습니다.
    -   `useEffect` 훅을 사용하여 카테고리가 열릴 때 (`isOpen`이 `true`일 때) `contentRef.current.scrollHeight`를 측정하고, 이 값을 `dynamicHeight` 상태에 업데이트했습니다.
    -   `maxHeight` CSS 속성을 `dynamicHeight`에 바인딩하여, 스킬 목록이 항상 콘텐츠의 실제 높이만큼 확장될 수 있도록 했습니다.
    -   `opacity` 속성도 `isOpen` 상태에 따라 전환되도록 하여 부드러운 애니메이션을 유지했습니다.
    -   `transition-all duration-300 ease-in-out` 클래스는 유지했습니다.
2.  **`openCategories` 초기화 로직 개선**:
    -   `openCategories` `useState`의 초기화 로직을 `skillCategories`가 변경될 때마다 모든 카테고리를 열린 상태로 `setOpenCategories`를 호출하도록 `useEffect`를 추가했습니다. 이로써 `skillCategories`가 비동기적으로 로드된 후에도 모든 카테고리가 자동으로 열린 상태로 표시됩니다.
    -   이를 통해 사용자는 항상 모든 카테고리의 스킬을 볼 수 있고 선택할 수 있게 됩니다.
3.  **상위 스크롤 컨테이너 높이 유지**: `h-[500px]`로 설정된 부모 스크롤 컨테이너의 높이는 그대로 유지했으며, 동적으로 확장되는 내부 카테고리 목록이 이 영역 내에서 스크롤되도록 합니다.

---

## 📊 UI/UX 개선 효과

-   **향상된 탐색 및 접근성**: 카테고리 정렬과 모든 스킬의 완전한 가시성을 통해 사용자는 원하는 스킬을 훨씬 쉽고 빠르게 찾고 선택할 수 있게 되었습니다.
-   **부드러운 사용자 경험**: 동적 높이 계산을 통한 토글 애니메이션은 콘텐츠가 잘리는 현상 없이 더 자연스럽고 직관적인 UI 경험을 제공합니다.
-   **버그 해결**: 105개 스킬 중 64개만 선택 가능했던 문제는 이제 완전히 해결되어 모든 스킬에 대한 접근성을 확보했습니다.

---

## 📝 수정된 파일 목록

-   `src/components/input-panel/SkillSelector.tsx`
